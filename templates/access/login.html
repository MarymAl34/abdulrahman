<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <title>تسجيل الدخول</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root{
      --bg:#f8fbfc; --card:#fff; --fg:#0f172a; --muted:#6b7280; --accent:#10b981; --accent2:#34d399;
      --ring:#93c5fd; --line:#e5e7eb; --errbg:#fef2f2; --err:#dc2626; --warnbg:#fffbeb; --warn:#92400e;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,"Segoe UI",Tahoma,Arial;background:var(--bg);color:var(--fg)}
    .decor{
      height:32vh;position:relative;overflow:hidden;
      background:
        radial-gradient(100rem 24rem at 12% 8%, rgba(98,165,218,.08), transparent 60%),
        radial-gradient(100rem 24rem at 85% 8%, rgba(92,181,146,.08), transparent 60%),
        linear-gradient(0deg,#f8fbfc,#ffffff);
    }
    .decor:before{
      content:"";position:absolute;inset:-40% -10% auto -10%;height:200%;
      background:
        repeating-linear-gradient(135deg,#cbd5e185 0 2px,transparent 2px 28px),
        repeating-linear-gradient(225deg,#d1fae580 0 2px,transparent 2px 32px);
      opacity:.35;mix-blend-mode:multiply;pointer-events:none;
    }
    .wrap{max-width:520px;margin:-72px auto 40px;padding:0 16px}
    .card{
      background:var(--card); border:1px solid var(--line); border-radius:18px;
      box-shadow:0 10px 30px rgba(0,0,0,.06); padding:24px;
    }
    h1{margin:0 0 10px;font-size:24px}
    p.lead{margin:0 0 16px;color:var(--muted)}
    .field{margin-bottom:16px}
    label{display:block;font-size:14px;margin-bottom:6px}
    .input-wrap{position:relative}
    input{
      width:100%; padding:12px 14px; border:1px solid var(--line); border-radius:12px;
      background:#fff; font-size:15px; color:var(--fg);
      outline:none; transition:border-color .15s, box-shadow .15s;
    }
    input:focus{border-color:var(--ring); box-shadow:0 0 0 3px rgba(147,197,253,.35)}
    .ltr{direction:ltr; text-align:left}
    .toggle-eye{
      position:absolute; left:10px; top:50%; transform:translateY(-50%);
      background:transparent; border:0; cursor:pointer; font-size:16px; opacity:.6;
    }
    .btn{
      width:100%; padding:12px 16px; border-radius:12px; border:1px solid var(--accent);
      background:linear-gradient(180deg,var(--accent2),var(--accent)); color:#fff; font-weight:700; cursor:pointer;
      transition:filter .3s ease;
    }
    .btn:hover{filter:brightness(1.05)}
    ul.msgs{list-style:none;margin:0 0 12px;padding:0}
    ul.msgs li{padding:10px 12px;border-radius:10px;margin-bottom:8px;font-size:14px}
    .msg-error{background:var(--errbg); color:var(--err); border:1px solid #fecaca}
    .msg-warn{background:var(--warnbg); color:var(--warn); border:1px solid #fde68a}
    .links{margin-top:12px;font-size:14px;text-align:center}
    .links a{color:#2563eb;text-decoration:none}
    .links a:hover{text-decoration:underline}
    .sub-links{
      display:flex; justify-content:flex-end; font-size:14px; margin-bottom:12px
    }
    .sub-links a{color:#2563eb; text-decoration:none}
  </style>
</head>
<body>
  <section class="decor"></section>

  <div class="wrap">
    <div class="card">
      <h1>تسجيل الدخول</h1>
      <p class="lead">أدخل رقم الجوال وكلمة المرور للدخول إلى المنصّة.</p>

      {% if messages %}
        <ul class="msgs">
          {% for m in messages %}
            <li class="msg-{% if 'error' in m.tags %}error{% else %}warn{% endif %}">{{ m }}</li>
          {% endfor %}
        </ul>
      {% endif %}

      <form method="post" novalidate>
        {% csrf_token %}

        <div class="field">
          <label for="phone">رقم الجوال</label>
          <div class="input-wrap">
            <input class="ltr" id="phone" name="phone" type="tel" inputmode="numeric"
                   placeholder="مثال: 0551234567" required
                   value="{{ request.POST.phone|default:'' }}">
          </div>
        </div>

        <div class="field">
          <label for="pw">كلمة المرور</label>
          <div class="input-wrap">
            <input id="pw" name="password" type="password" minlength="8" placeholder="أدخل كلمة المرور" required>
            <button type="button" class="toggle-eye" aria-label="إظهار/إخفاء كلمة المرور"
                    onclick="const pw=document.getElementById('pw'); pw.type = pw.type === 'password' ? 'text' : 'password'">👁</button>
          </div>
        </div>

        <div class="sub-links">
          <a href="{% url 'access:password_reset' %}">نسيت كلمة المرور؟</a>
        </div>

        <button class="btn" type="submit">دخول</button>
      </form>

      <div class="links">
        لا تملك حسابًا؟ <a href="{% url 'access:signup' %}">إنشاء حساب جديد</a>
      </div>
    </div>
  </div>
</body>
</html>
